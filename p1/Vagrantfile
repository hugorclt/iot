# -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure("2") do |config|

	# Ressource
    config.vm.provider :libvirt do |libvirt|
		libvirt.memory = "1024"
		libvirt.cpus = "1"
	  end
  
  config.vm.define "hrecoletS" do |server|
    # Operating system
    server.vm.box = "debian/bookworm64"
    server.vm.hostname = "hrecoletS"

    #Network
    server.vm.network "private_network", ip: "192.168.56.110"

    # Installing dependencies "provisionning"
    server.vm.provision "shell", path: "script/server.sh"

  end

  config.vm.define "hrecoletSW" do |worker|
    # Operatin system
    worker.vm.box = "debian/bookworm64"
    worker.vm.hostname = "hrecoletSW"

    #Network
    worker.vm.network "private_network", ip: "192.168.56.111"

    # Installing dependencies "provisionning"
	worker.vm.provision "shell", path: "script/worker.sh"
    
  end

end
